-- A library clause declares a name as a library.  It 
-- does not create the library; it simply forward declares 
-- it. 
library IEEE;
-- STD_LOGIC and STD_LOGIC_VECTOR types, and relevant functions
use ieee.std_logic_1164.all;

-- SIGNED and UNSIGNED types, and relevant functions
use ieee.numeric_std.all;

entity ulinha is
	port (
		-- Input ports
		A		  : in  std_logic_vector(31 downto 0);
    B		  : in  std_logic_vector(31 downto 0);
    C_IN  : in std_logic;

		-- Output ports
    q		  : out std_logic_vector(31 downto 0);
    C_OUT : out std_logic_vector(31 downto 0)
	);
	
end entity;
-- Library Clause(s) (optional)
-- Use Clause(s) (optional)

architecture ulinha_arch of ulinha is
  -- Declarations (optional)
  signal AandB: std_logic := 0
  signal AxorB: std_logic := 0
  signal C_OUT

begin
  AandB <= A and B
  AxorB <= A xor B

  C_OUT <= AandB or (AxorB and C_IN)

	when '0' => q <= A;
  when '1' => q <= B;

end architecture;
